{% extends 'base.html.twig' %}

{% block title %}Feed{% endblock %}
 
{% block body %}
        <a class="btn btn-dark" href="{{ path('app_homepage') }}">Go to Homepage</a>
        <a class="btn btn-dark" href="{{ path('app_login') }}">Go to Login screen</a>
        <a class="btn btn-success" href="{{ path('new') }}">New Post</a>
        <a class="btn btn-purple" href="{{ path('category') }}">Manage Categories</a>
    
<div class="container">

        <h1>Feed</h1>
        <hr class="hr" />
        <div class="feed">
            {% for post in posts %}
            <div class="element">
                <h3 class="element__title">{{ post.title }}</h4>
                <p class="element__description">{{ post.description }}</p>
                {% for image in post.image %}
                    <img class="post__image" src="{{ asset('img/' ~ image.filename)|imagine_filter('squared_thumbnail_small') }}" />
                {% endfor %}
                <br>
                <a class="btn btn-info" href="{{ path('edit', { 'id': post.getId() }) }}">Edit post</a>
                <a class="btn btn-danger" href="{{ path('delete', { 'id': post.getId() }) }}">Delete post</a>
            </div>
            
            {% endfor %}  

        </div>
    
</div>



{% endblock %}
